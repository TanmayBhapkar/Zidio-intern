{"ast":null,"code":"// src/services/authService.js\nimport api from \"../api/axiosConfig\";\nexport async function register({\n  name,\n  email,\n  password\n}) {\n  try {\n    const response = await api.post(\"/auth/signup\", {\n      name,\n      email,\n      password\n    });\n    const {\n      token,\n      user\n    } = response.data;\n\n    // Save user data in localStorage\n    const userData = {\n      ...user,\n      token\n    };\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    return userData;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Registration failed\");\n  }\n}\nexport async function login({\n  email,\n  password\n}) {\n  try {\n    const response = await api.post(\"/auth/login\", {\n      email,\n      password\n    });\n    const {\n      token,\n      user\n    } = response.data;\n\n    // Save user data in localStorage\n    const userData = {\n      ...user,\n      token\n    };\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    return userData;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || \"Login failed\");\n  }\n}\nexport async function logout() {\n  try {\n    // No need to call the backend for logout as JWT is stateless\n    // Just remove the token from localStorage\n    localStorage.removeItem(\"user\");\n    return true;\n  } catch (error) {\n    console.error(\"Logout error:\", error);\n    return false;\n  }\n}","map":{"version":3,"names":["api","register","name","email","password","response","post","token","user","data","userData","localStorage","setItem","JSON","stringify","error","_error$response","_error$response$data","Error","login","_error$response2","_error$response2$data","logout","removeItem","console"],"sources":["C:/Users/Manis/Desktop/blogging platform/blog-frontend/src/services/authService.js"],"sourcesContent":["// src/services/authService.js\nimport api from \"../api/axiosConfig\";\n\nexport async function register({ name, email, password }) {\n  try {\n    const response = await api.post(\"/auth/signup\", { name, email, password });\n    const { token, user } = response.data;\n    \n    // Save user data in localStorage\n    const userData = { ...user, token };\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    \n    return userData;\n  } catch (error) {\n    throw new Error(error.response?.data?.error || \"Registration failed\");\n  }\n}\n\nexport async function login({ email, password }) {\n  try {\n    const response = await api.post(\"/auth/login\", { email, password });\n    const { token, user } = response.data;\n    \n    // Save user data in localStorage\n    const userData = { ...user, token };\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n    \n    return userData;\n  } catch (error) {\n    throw new Error(error.response?.data?.error || \"Login failed\");\n  }\n}\n\nexport async function logout() {\n  try {\n    // No need to call the backend for logout as JWT is stateless\n    // Just remove the token from localStorage\n    localStorage.removeItem(\"user\");\n    return true;\n  } catch (error) {\n    console.error(\"Logout error:\", error);\n    return false;\n  }\n}\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,oBAAoB;AAEpC,OAAO,eAAeC,QAAQA,CAAC;EAAEC,IAAI;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EACxD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,cAAc,EAAE;MAAEJ,IAAI;MAAEC,KAAK;MAAEC;IAAS,CAAC,CAAC;IAC1E,MAAM;MAAEG,KAAK;MAAEC;IAAK,CAAC,GAAGH,QAAQ,CAACI,IAAI;;IAErC;IACA,MAAMC,QAAQ,GAAG;MAAE,GAAGF,IAAI;MAAED;IAAM,CAAC;IACnCI,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;IAEtD,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOK,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,MAAM,IAAIC,KAAK,CAAC,EAAAF,eAAA,GAAAD,KAAK,CAACV,QAAQ,cAAAW,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBP,IAAI,cAAAQ,oBAAA,uBAApBA,oBAAA,CAAsBF,KAAK,KAAI,qBAAqB,CAAC;EACvE;AACF;AAEA,OAAO,eAAeI,KAAKA,CAAC;EAAEhB,KAAK;EAAEC;AAAS,CAAC,EAAE;EAC/C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,aAAa,EAAE;MAAEH,KAAK;MAAEC;IAAS,CAAC,CAAC;IACnE,MAAM;MAAEG,KAAK;MAAEC;IAAK,CAAC,GAAGH,QAAQ,CAACI,IAAI;;IAErC;IACA,MAAMC,QAAQ,GAAG;MAAE,GAAGF,IAAI;MAAED;IAAM,CAAC;IACnCI,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;IAEtD,OAAOA,QAAQ;EACjB,CAAC,CAAC,OAAOK,KAAK,EAAE;IAAA,IAAAK,gBAAA,EAAAC,qBAAA;IACd,MAAM,IAAIH,KAAK,CAAC,EAAAE,gBAAA,GAAAL,KAAK,CAACV,QAAQ,cAAAe,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBX,IAAI,cAAAY,qBAAA,uBAApBA,qBAAA,CAAsBN,KAAK,KAAI,cAAc,CAAC;EAChE;AACF;AAEA,OAAO,eAAeO,MAAMA,CAAA,EAAG;EAC7B,IAAI;IACF;IACA;IACAX,YAAY,CAACY,UAAU,CAAC,MAAM,CAAC;IAC/B,OAAO,IAAI;EACb,CAAC,CAAC,OAAOR,KAAK,EAAE;IACdS,OAAO,CAACT,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACrC,OAAO,KAAK;EACd;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}